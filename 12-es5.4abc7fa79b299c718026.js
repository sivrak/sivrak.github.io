!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{v35Q:function(e,r,o){"use strict";o.r(r),o.d(r,"CartPageModule",(function(){return X}));var a=o("ofXK"),c=o("3Pt+"),s=o("TEn/"),l=o("tyNb"),b=o("mrSG"),d=o("fXoL");function u(t,e){1&t&&(d.Kb(0,"ion-button",13),d.Kb(1,"div"),d.kc(2," Ordered Successfully, "),d.Jb(),d.Jb())}function f(t,e){if(1&t){var n=d.Lb();d.Kb(0,"ion-button",14),d.Sb("click",(function(){return d.fc(n),d.Ub().dismiss()})),d.kc(1,"Try Again"),d.Jb()}}function g(t,e){if(1&t&&(d.Kb(0,"table",16),d.Kb(1,"tr"),d.Kb(2,"td",17),d.kc(3),d.Jb(),d.Kb(4,"td",17),d.kc(5),d.Ib(6,"br"),d.kc(7,"X "),d.Ib(8,"br"),d.kc(9),d.Jb(),d.Kb(10,"td",18),d.kc(11),d.Ib(12,"br"),d.kc(13,"/"),d.Ib(14,"br"),d.kc(15),d.Jb(),d.Kb(16,"td",18),d.kc(17),d.Jb(),d.Jb(),d.Jb()),2&t){var n=d.Ub().$implicit,r=d.Ub().$implicit;d.xb(3),d.lc(r.name),d.xb(2),d.mc("",n.selected," "),d.xb(4),d.lc(n.unit),d.xb(2),d.mc("",n.price," "),d.xb(4),d.mc(" ",n.unit,""),d.xb(2),d.mc("Rs ",n.price*n.selected,"")}}function m(t,e){if(1&t&&(d.Kb(0,"span"),d.ic(1,g,18,6,"table",15),d.Jb()),2&t){var n=e.$implicit;d.xb(1),d.ac("ngIf",n&&n.selected&&n.selected>0)}}function h(t,e){if(1&t&&(d.Kb(0,"span"),d.ic(1,m,2,1,"span",10),d.Jb()),2&t){var n=e.$implicit;d.xb(1),d.ac("ngForOf",n.variants)}}var p,v=((p=function(){function t(e){n(this,t),this.modalCtrl=e,this.data={},this.totals=0,this.delivery={},this.error=!1,this.status="ok"}return i(t,[{key:"ngOnInit",value:function(){console.log(this.data)}},{key:"dismiss",value:function(){this.modalCtrl.dismiss({dismissed:!0})}}]),t}()).\u0275fac=function(t){return new(t||p)(d.Hb(s.Y))},p.\u0275cmp=d.Bb({type:p,selectors:[["app-place-order"]],inputs:{data:"data",totals:"totals",delivery:"delivery",error:"error"},decls:52,vars:8,consts:[["vertical","top","horizontal","end","slot","fixed",3,"click"],["name","close-outline"],["slot","start"],[1,"totals"],[1,"totalsTxt"],["size","12"],["color","success","routerLink","/home","style","width: 100%;","class","btnStyle",4,"ngIf"],["color","warning","style","width: 100%;","class","btnStyle",3,"click",4,"ngIf"],[1,"detTxt"],[1,"detTxt",2,"color","darkgoldenrod"],[4,"ngFor","ngForOf"],[1,"summary"],["colspan","2",2,"font-weight","600"],["color","success","routerLink","/home",1,"btnStyle",2,"width","100%"],["color","warning",1,"btnStyle",2,"width","100%",3,"click"],["class","orderDet",4,"ngIf"],[1,"orderDet"],["width","30%"],["width","20%"]],template:function(t,e){1&t&&(d.Kb(0,"ion-fab",0),d.Sb("click",(function(){return e.dismiss()})),d.Kb(1,"ion-fab-button"),d.Ib(2,"ion-icon",1),d.Jb(),d.Jb(),d.Kb(3,"ion-header"),d.Kb(4,"ion-toolbar"),d.Kb(5,"ion-buttons",2),d.Ib(6,"ion-back-button"),d.Jb(),d.Kb(7,"ion-title"),d.kc(8,"Order"),d.Jb(),d.Jb(),d.Jb(),d.Kb(9,"ion-header"),d.Kb(10,"ion-toolbar"),d.Kb(11,"div",3),d.Kb(12,"div",4),d.kc(13),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(14,"ion-content"),d.Kb(15,"ion-row"),d.Kb(16,"ion-col",5),d.ic(17,u,3,0,"ion-button",6),d.Jb(),d.Kb(18,"ion-col",5),d.ic(19,f,2,0,"ion-button",7),d.Jb(),d.Kb(20,"ion-col",5),d.Kb(21,"h4",8),d.kc(22,"We will get back to you for requirements, Thank you for placing the order."),d.Jb(),d.Kb(23,"h6",9),d.kc(24,"For details contact us at Whatsapp 7871485184."),d.Jb(),d.Jb(),d.Jb(),d.Kb(25,"ion-row"),d.Kb(26,"ion-col",5),d.ic(27,h,2,1,"span",10),d.Kb(28,"table",11),d.Kb(29,"tr"),d.Kb(30,"td",12),d.kc(31,"Delivery details"),d.Jb(),d.Jb(),d.Kb(32,"tr"),d.Kb(33,"td"),d.kc(34,"Name"),d.Jb(),d.Kb(35,"td"),d.kc(36),d.Jb(),d.Jb(),d.Kb(37,"tr"),d.Kb(38,"td"),d.kc(39,"Address"),d.Jb(),d.Kb(40,"td"),d.kc(41),d.Jb(),d.Jb(),d.Kb(42,"tr"),d.Kb(43,"td"),d.kc(44,"Pin Code"),d.Jb(),d.Kb(45,"td"),d.kc(46),d.Jb(),d.Jb(),d.Kb(47,"tr"),d.Kb(48,"td"),d.kc(49,"Phone"),d.Jb(),d.Kb(50,"td"),d.kc(51),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb()),2&t&&(d.xb(13),d.mc("Total Cost - Rs.",e.totals,""),d.xb(4),d.ac("ngIf",!e.error),d.xb(2),d.ac("ngIf",e.error),d.xb(8),d.ac("ngForOf",e.data),d.xb(9),d.lc(e.delivery.name),d.xb(5),d.lc(e.delivery.address),d.xb(5),d.lc(e.delivery.pincode),d.xb(5),d.lc(e.delivery.phone))},directives:[s.p,s.q,s.u,s.t,s.U,s.i,s.e,s.f,s.T,s.o,s.I,s.n,a.j,a.i,s.h,s.bb,l.h],styles:[".totals[_ngcontent-%COMP%]{font-weight:600;font-size:20px}.totals[_ngcontent-%COMP%]   .totalsTxt[_ngcontent-%COMP%]{padding-top:3%;font-size:large;width:50%;display:inline-block;vertical-align:middle}.orderDet[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-right:5%;color:#666;line-height:1.6;margin-top:3%;text-align:center}.orderDet[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .orderDet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:8px;border:1px solid #000}.btnStyle[_ngcontent-%COMP%]{width:100%;font-weight:600;font-size:30px}.summary[_ngcontent-%COMP%]{width:100%;font-size:1rem;color:#666;line-height:1.6;margin-top:3%;text-align:center}.summary[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .summary[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #000}.detTxt[_ngcontent-%COMP%]{padding:1px 10px;text-align:center}"]}),p),x=o("JZFu"),K=o("/xxd"),J=o("al7H"),k=o("jhN1");function C(t,e){if(1&t){var n=d.Lb();d.Kb(0,"ion-item"),d.Kb(1,"table",8),d.Kb(2,"tr"),d.Kb(3,"td",9),d.kc(4,"Delivery details"),d.Jb(),d.Jb(),d.Kb(5,"tr"),d.Kb(6,"td"),d.kc(7,"Name"),d.Jb(),d.Kb(8,"td"),d.kc(9),d.Jb(),d.Jb(),d.Kb(10,"tr"),d.Kb(11,"td"),d.kc(12,"Address"),d.Jb(),d.Kb(13,"td"),d.kc(14),d.Jb(),d.Jb(),d.Kb(15,"tr"),d.Kb(16,"td"),d.kc(17,"Pin Code"),d.Jb(),d.Kb(18,"td"),d.kc(19),d.Jb(),d.Jb(),d.Kb(20,"tr"),d.Kb(21,"td"),d.kc(22,"Phone"),d.Jb(),d.Kb(23,"td"),d.kc(24),d.Jb(),d.Jb(),d.Kb(25,"tr",10),d.Kb(26,"td",11),d.Kb(27,"ion-button",12),d.Sb("click",(function(){return d.fc(n),d.Ub().updateAddress()})),d.kc(28,"Edit Delivery Details"),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb()}if(2&t){var r=d.Ub();d.xb(9),d.lc(r.delivery.name),d.xb(5),d.lc(r.delivery.address),d.xb(5),d.lc(r.delivery.pincode),d.xb(5),d.lc(r.delivery.phone)}}var y=function(){return["/","home"]};function I(t,e){1&t&&(d.Kb(0,"div",13),d.kc(1," Cart Empty,"),d.Ib(2,"br"),d.kc(3,"Click to continue shopping..."),d.Ib(4,"br"),d.Kb(5,"a",14),d.Ib(6,"img",15),d.Jb(),d.Jb()),2&t&&(d.xb(5),d.ac("routerLink",d.bc(1,y)))}function O(t,e){1&t&&(d.Kb(0,"span"),d.kc(1,"..."),d.Jb())}function w(t,e){1&t&&(d.Kb(0,"span"),d.kc(1,"..."),d.Jb())}function P(t,e){if(1&t&&(d.Kb(0,"span"),d.kc(1),d.Ib(2,"br"),d.Jb()),2&t){var n=d.Ub().$implicit;d.xb(1),d.oc("",n.selected,"xRs.",n.price,"=Rs.",n.selected*n.price,"")}}function z(t,e){if(1&t&&(d.Kb(0,"span",37),d.ic(1,P,3,3,"span",6),d.Jb()),2&t){var n=e.$implicit;d.xb(1),d.ac("ngIf",n.selected>0)}}function M(t,e){if(1&t&&(d.Kb(0,"span"),d.kc(1),d.Ib(2,"br"),d.Jb()),2&t){var n=d.Ub().$implicit;d.xb(1),d.oc("",n.selected,"xRs.",n.price,"=Rs.",n.selected*n.price,"")}}function S(t,e){if(1&t&&(d.Kb(0,"span",37),d.ic(1,M,3,3,"span",6),d.Jb()),2&t){var n=e.$implicit;d.xb(1),d.ac("ngIf",n.selected>0)}}function _(t,e){if(1&t){var n=d.Lb();d.Kb(0,"ion-item",51),d.Kb(1,"ion-label",52),d.kc(2),d.Jb(),d.Kb(3,"ion-textarea",53),d.Sb("ionChange",(function(t){d.fc(n);var r=e.index,i=d.Ub(3).$implicit;return d.Ub(3).vrnttxtchanged(t,i,r)})),d.Jb(),d.Jb()}if(2&t){var r=e.index;d.xb(2),d.mc("Text ",r+1,"")}}var q=function(){return[]};function U(t,e){if(1&t&&(d.Kb(0,"ion-list"),d.ic(1,_,4,1,"ion-item",50),d.Jb()),2&t){var n=d.Ub(3).$implicit;d.xb(1),d.ac("ngForOf",d.bc(1,q).constructor(n.requirements.texts))}}function E(t,e){if(1&t&&(d.Kb(0,"ion-avatar",57),d.Ib(1,"img",58),d.Jb()),2&t){var n=d.Ub().index,r=d.Ub(3).$implicit,i=d.Ub(3);d.xb(1),d.ac("src",i.sanitizer.bypassSecurityTrustUrl(r.reqImg[n]),d.gc)}}function R(t,e){if(1&t){var n=d.Lb();d.Kb(0,"ion-item",51),d.Kb(1,"div"),d.Kb(2,"ion-label",54),d.kc(3),d.Jb(),d.ic(4,E,2,1,"ion-avatar",55),d.Jb(),d.Kb(5,"div"),d.Kb(6,"ion-button"),d.Kb(7,"input",56),d.Sb("change",(function(t){d.fc(n);var r=e.index,i=d.Ub(3).$implicit;return d.Ub(3).loadImageFromDevice(t,i,r)})),d.Jb(),d.Jb(),d.Jb(),d.Jb()}if(2&t){var r=e.index,i=d.Ub(3).$implicit;d.xb(3),d.mc("Image ",r+1,""),d.xb(1),d.ac("ngIf",i.reqImg&&i.reqImg[r])}}function T(t,e){if(1&t&&(d.Kb(0,"ion-list"),d.ic(1,R,8,2,"ion-item",50),d.Jb()),2&t){var n=d.Ub(3).$implicit;d.xb(1),d.ac("ngForOf",d.bc(1,q).constructor(n.requirements.images))}}function F(t,e){if(1&t){var n=d.Lb();d.Kb(0,"ion-row",39),d.Kb(1,"ion-col",40),d.kc(2),d.Ib(3,"br"),d.kc(4),d.Jb(),d.Kb(5,"ion-col",41),d.Kb(6,"div",42),d.kc(7),d.Jb(),d.Kb(8,"ion-grid"),d.Kb(9,"ion-row"),d.Kb(10,"ion-col",43),d.Kb(11,"ion-fab",44),d.Sb("click",(function(){d.fc(n);var t=d.Ub().$implicit,e=d.Ub().$implicit;return d.Ub(2).pieceFunc(t,"sub",e)})),d.Kb(12,"ion-fab-button",45),d.Ib(13,"ion-icon",46),d.Jb(),d.Jb(),d.Jb(),d.Kb(14,"ion-col",47),d.kc(15),d.Jb(),d.Kb(16,"ion-col",43),d.Kb(17,"ion-fab",44),d.Sb("click",(function(){d.fc(n);var t=d.Ub().$implicit,e=d.Ub().$implicit;return d.Ub(2).pieceFunc(t,"add",e)})),d.Kb(18,"ion-fab-button",45),d.Ib(19,"ion-icon",48),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(20,"ion-col",49),d.Ib(21,"hr"),d.ic(22,U,2,2,"ion-list",6),d.ic(23,T,2,2,"ion-list",6),d.Jb(),d.Jb()}if(2&t){var r=d.Ub().$implicit,i=d.Ub().$implicit;d.xb(2),d.lc(r.type),d.xb(2),d.nc("Rs.",r.price,"/",r.unit,""),d.xb(3),d.mc("Quantity (",r.unit,")"),d.xb(8),d.lc(r.selected),d.xb(7),d.ac("ngIf",i.requirements&&i.requirements.texts),d.xb(1),d.ac("ngIf",i.requirements&&i.requirements.images)}}function H(t,e){if(1&t&&(d.Kb(0,"span"),d.ic(1,F,24,7,"ion-row",38),d.Jb()),2&t){var n=e.$implicit;d.xb(1),d.ac("ngIf",n.selected&&n.selected>0)}}function $(t,e){if(1&t){var n=d.Lb();d.Kb(0,"ion-item",18),d.Kb(1,"ion-grid",19),d.Kb(2,"ion-row"),d.Kb(3,"ion-col",20),d.Ib(4,"img",21),d.Jb(),d.Kb(5,"ion-col",22),d.Kb(6,"div",23),d.Kb(7,"h4",24),d.Kb(8,"span",25),d.kc(9),d.Vb(10,"slice"),d.Jb(),d.kc(11),d.Vb(12,"slice"),d.ic(13,O,2,0,"span",6),d.Jb(),d.Jb(),d.Kb(14,"div",26),d.Kb(15,"h4",24),d.Kb(16,"span",25),d.kc(17),d.Vb(18,"slice"),d.Jb(),d.kc(19),d.Vb(20,"slice"),d.ic(21,w,2,0,"span",6),d.Jb(),d.ic(22,z,2,1,"span",27),d.Kb(23,"ion-fab",28),d.Kb(24,"ion-fab-button",29),d.Sb("click",(function(){d.fc(n);var t=e.$implicit;return d.Ub(2).removePiece(t,1)})),d.Ib(25,"ion-icon",30),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(26,"ion-row",31),d.Kb(27,"ion-col"),d.Kb(28,"div"),d.ic(29,S,2,1,"span",27),d.Jb(),d.Jb(),d.Kb(30,"ion-col",32),d.Kb(31,"ion-fab",33),d.Kb(32,"ion-fab-button",34),d.Sb("click",(function(){d.fc(n);var t=e.$implicit;return d.Ub(2).removePiece(t,1)})),d.Ib(33,"ion-icon",35),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.ic(34,H,2,1,"span",36),d.Jb(),d.Jb()}if(2&t){var r=e.$implicit;d.xb(4),d.ac("src",r.src,d.gc),d.xb(5),d.lc(d.Xb(10,10,r.name,0,1)),d.xb(2),d.lc(d.Xb(12,14,r.name,1,30)),d.xb(2),d.ac("ngIf",r.name.length>=30),d.xb(4),d.lc(d.Xb(18,18,r.name,0,1)),d.xb(2),d.lc(d.Xb(20,22,r.name,1,60)),d.xb(2),d.ac("ngIf",r.name.length>=60),d.xb(1),d.ac("ngForOf",r.variants),d.xb(7),d.ac("ngForOf",r.variants),d.xb(5),d.ac("ngForOf",r.variants)}}function j(t,e){if(1&t&&(d.Kb(0,"ion-list"),d.Kb(1,"ion-list-header",16),d.kc(2," Order Details "),d.Jb(),d.ic(3,$,35,26,"ion-item",17),d.Jb()),2&t){var n=d.Ub();d.xb(3),d.ac("ngForOf",n.currentCart)}}var A,D,L,B=[{path:"",component:(A=function(){function e(t,r,i,o,a,c,s){n(this,e),this.cartHolder=t,this.modalController=r,this.authCheckService=i,this.alertController=o,this.loadingController=a,this.router=c,this.sanitizer=s,this.listItemz=[],this.currentCart=[],this.totals=0,this.delivery={},this.loading={},this.failed=0,this.blobURL=""}return i(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){var t=this;localStorage.getItem("zname")&&localStorage.getItem("zaddress")&&localStorage.getItem("zpincode")&&localStorage.getItem("zphone")?this.delivery={name:localStorage.getItem("zname"),address:localStorage.getItem("zaddress"),pincode:localStorage.getItem("zpincode"),phone:localStorage.getItem("zphone")}:this.updateAddress(),""==localStorage.getItem("zphone")&&this.authCheckService.logout(),this.currentCart=[],this.listItemz=this.cartHolder.getCurrentCart(),this.listItemz.forEach((function(e){var n=0;e&&e.variants&&e.variants.forEach((function(t){if(t&&t.selected&&t.selected>0)return n=1,!0})),1==n&&t.currentCart.push(e)})),this.computeTotals(),this.currentCart.forEach((function(t){t&&t.variants&&t.variants.length>0&&t.variants.forEach((function(e){if(e&&!e.reqImg&&(e.reqImg=[]),e&&!e.reqtxt&&t.requirements&&t.requirements.texts>0){e.reqtxt=[];for(var n=0;n<t.requirements.texts;n++)e.reqtxt.push("")}}))})),console.log("this.cartHolder.cartCount",this.cartHolder.cartCount),console.log("currentCart",this.currentCart)}},{key:"removePiece",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentCart=this.currentCart.filter((function(r){if(r.name!=t.name)return!0;e.listItemz.forEach((function(i){i.name==t.name&&i.variants.forEach((function(t){var i=t.selected;t.selected=0,0!=i&&1==n&&(console.log(r.name,"this.cartHolder.cartCount",e.cartHolder.cartCount),e.cartHolder.cartCount=e.cartHolder.cartCount-1)}))}))})),this.computeTotals()}},{key:"pieceFunc",value:function(e,n,r){if("sub"==n){if(e.selected=e.selected-1,0==e.selected){this.cartHolder.cartCount=this.cartHolder.cartCount-1;var i=1;r.variants.forEach((function(t){if(t&&t.selected&&t.selected>0)return i=0,!0})),1==i&&this.removePiece(r)}}else"add"==n&&(e.selected=e.selected+1);this.cartHolder.setCurrentCart(t(this.listItemz)),this.computeTotals()}},{key:"computeTotals",value:function(){var t=this;this.totals=0,this.currentCart.forEach((function(e){e&&e.variants&&e.variants.length&&e.variants.forEach((function(e){e&&e.selected&&e.selected>0&&(t.totals=t.totals+e.selected*e.price)}))}))}},{key:"checkReq",value:function(){var t=this;return new Promise((function(e,n){t.currentCart.length>0?t.currentCart.forEach((function(n,r){n.requirements&&n.requirements.texts&&n.requirements.texts>0&&n.variants.forEach((function(r){0==t.failed&&r.selected>0&&r.reqtxt.forEach((function(r,i){return Object(b.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r&&""!=r||0!=this.failed,t.t0){t.next=5;break}return this.failed=1,t.next=5,this.alertController.create({header:"Text "+(i+1)+" in "+n.name,subHeader:"Text data is missing",message:"Enter all the data is the form to continue...",buttons:["OK"]}).then((function(t){return t.present(),e(!1),!1}));case 5:case"end":return t.stop()}}),t,this)})))}))})),n.requirements&&n.requirements.images&&n.requirements.images>0&&n.variants.forEach((function(r){return Object(b.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=0==this.failed&&r.selected>0,!t.t0){t.next=7;break}if(t.t1=0!=r.reqImg.length&&r.reqImg.length==r.selected,t.t1){t.next=7;break}return this.failed=1,t.next=7,this.alertController.create({header:"Image data is missing",subHeader:n.name,message:"Enter all the data is the form to continue...",buttons:["OK"]}).then((function(t){t.present(),e(!1)}));case 7:case"end":return t.stop()}}),t,this)})))})),r+1==t.currentCart.length&&0==t.failed&&e(!0)})):e(!0)}))}},{key:"placeOrder",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.failed=0,console.log("started placing"),t.next=4,this.checkReq();case 4:if(t.t0=!!t.sent,!t.t0){t.next=26;break}if(console.log("PROCEEDING",this.currentCart.length),0!=this.currentCart.length){t.next=13;break}return t.next=10,this.alertController.create({header:"Cart Empty",subHeader:"You have not added items to cart",message:"Add items to cart to continue...",buttons:["OK"]}).then((function(t){t.present()}));case 10:t.t1=!0,t.next=25;break;case 13:if(this.cartHolder.cartObj=this.currentCart,!(this.delivery&&this.delivery.address&&this.delivery.pincode&&this.delivery.name)){t.next=23;break}return t.next=17,this.loadingController.create({message:"Placing Order.."});case 17:return this.loading=t.sent,t.next=20,this.loading.present().then((function(){x.a.firestore().collection("orders").add({userNum:localStorage.getItem("zphone"),delivery:{address:e.delivery.address,pincode:e.delivery.pincode,name:e.delivery.name},items:e.currentCart,date:(new Date).getTime(),status:"Pending"}).then((function(t){return Object(b.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Document written with ID: ",t.id),this.loading.dismiss(),e.next=3,this.modalController.create({component:v,componentProps:{data:this.currentCart,totals:this.totals,delivery:this.delivery,error:!1}});case 3:return n=e.sent,e.next=6,n.present();case 6:return e.next=8,n.onWillDismiss();case 8:r=e.sent,i=r.data,console.log(i),this.currentCart=[],this.totals=0,this.cartHolder.cartCount=0,this.cartHolder.setCurrentCart([]);case 11:case"end":return e.stop()}}),e,this)})))})).catch((function(t){return Object(b.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.error("Error adding document: ",t),this.loading.dismiss(),e.next=3,this.modalController.create({component:v,componentProps:{data:[],totals:0,delivery:[],error:!0}});case 3:return n=e.sent,e.next=6,n.present();case 6:return e.next=8,n.onWillDismiss();case 8:r=e.sent,i=r.data,console.log(i);case 11:case"end":return e.stop()}}),e,this)})))}))}));case 20:t.t2=t.sent,t.next=24;break;case 23:t.t2=this.updateAddress();case 24:t.t1=void t.t2;case 25:t.t0=t.t1;case 26:return t.abrupt("return",t.t0);case 27:case"end":return t.stop()}}),t,this)})))}},{key:"getAddress",value:function(t,e,n){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,o=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({header:"Address",inputs:[{name:"name",id:"name",type:"text",value:t,placeholder:"ENTER NAME"},{name:"address",id:"address",type:"textarea",value:e,placeholder:"ENTER ADDRESS"},{name:"pincode",id:"pincode",type:"number",value:n,placeholder:"Pin Code"},{name:"phone",id:"Phone",type:"number",value:localStorage.getItem("zphone"),placeholder:"Phone"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Done",handler:function(t){o.delivery=t,localStorage.setItem("zname",o.delivery.name),localStorage.setItem("zaddress",o.delivery.address),localStorage.setItem("zpincode",o.delivery.pincode)}}]});case 2:return i=r.sent,r.next=5,i.present();case 5:case"end":return r.stop()}}),r,this)})))}},{key:"updateAddress",value:function(){var t=localStorage.getItem("zname"),e=localStorage.getItem("zaddress"),n=localStorage.getItem("zpincode");this.getAddress(t,e,n)}},{key:"loadImageFromDevice",value:function(t,e,n){e&&!e.reqImg&&(e.reqImg=[]);var r=t.target.files[0],i=new FileReader;i.readAsArrayBuffer(r),i.onload=function(){var t=new Blob([new Uint8Array(i.result)]),r=URL.createObjectURL(t);e&&e.reqImg&&null!=e.reqImg.length&&(e.reqImg[n]=r)},i.onerror=function(t){}}},{key:"vrnttxtchanged",value:function(t,e,n){console.log(t.detail.value,e,n),t&&t.detail&&t.detail.value&&e&&e.reqtxt&&e.reqtxt.length&&null!=e.reqtxt[n]&&(e.reqtxt[n]=t.detail.value)}}]),e}(),A.\u0275fac=function(t){return new(t||A)(d.Hb(K.a),d.Hb(s.Y),d.Hb(J.a),d.Hb(s.b),d.Hb(s.X),d.Hb(l.g),d.Hb(k.b))},A.\u0275cmp=d.Bb({type:A,selectors:[["app-cart"]],decls:19,vars:4,consts:[["slot","start"],[1,"totals"],[1,"totalsTxt"],[1,"totalsBtn"],["color","warning","size","default",3,"click"],["slot","end","name","cart"],[4,"ngIf"],["class","noCart",4,"ngIf"],[1,"summary"],["colspan","2",2,"font-weight","600"],[2,"border","0px"],["colspan","2",2,"border","0px"],[2,"width","100%",3,"click"],[1,"noCart"],[3,"routerLink"],["src","./assets/shop.png"],[2,"padding","3px"],["class","oneItem",4,"ngFor","ngForOf"],[1,"oneItem"],[2,"width","100%"],["size","2"],[1,"thumbImg",3,"src"],["size","10"],[1,"hideOnPc"],[1,"titleTxt"],[2,"text-transform","uppercase"],[1,"hideOnmobile","splitquant"],["class","pricing",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end"],["color","danger",3,"click"],["name","trash"],[1,"hideOnPc","splitquant"],["size","3"],["vertical","center","horizontal","end"],["size","small","color","danger",3,"click"],["name","trash",2,"font-size","1.5rem"],[4,"ngFor","ngForOf"],[1,"pricing"],["class","pieceContainer",4,"ngIf"],[1,"pieceContainer"],["size","6",1,"centerQuantBtn"],["size","6",2,"text-align","center"],[2,"padding-top","4px"],["size","4"],["vertical","center","horizontal","center",3,"click"],["size","small","color","dark"],["name","remove-circle-outline",1,"cirIcon"],["size","4",1,"centerQuantBtn",2,"font-weight","600","font-size","22px"],["name","add-circle-outline",1,"cirIcon"],["size","12"],["style","--background: linear-gradient(to right, #ededed 0%, #ffffff 100%);",4,"ngFor","ngForOf"],[2,"--background","linear-gradient(to right, #ededed 0%, #ffffff 100%)"],["position","stacked"],["placeholder","Enter text",3,"ionChange"],["position","stacked",2,"display","inline-block"],["style","display: inline-block; margin-left: 5%;",4,"ngIf"],["type","file","id","file-input","accept","image/png, image/jpeg",3,"change"],[2,"display","inline-block","margin-left","5%"],[3,"src"]],template:function(t,e){1&t&&(d.Kb(0,"ion-header"),d.Kb(1,"ion-toolbar"),d.Kb(2,"ion-buttons",0),d.Ib(3,"ion-back-button"),d.Jb(),d.Kb(4,"ion-title"),d.kc(5,"Cart"),d.Jb(),d.Jb(),d.Jb(),d.Kb(6,"ion-header"),d.Kb(7,"ion-toolbar"),d.Kb(8,"div",1),d.Kb(9,"div",2),d.kc(10),d.Jb(),d.Kb(11,"div",3),d.Kb(12,"ion-button",4),d.Sb("click",(function(){return e.placeOrder()})),d.kc(13,"Place Order "),d.Ib(14,"ion-icon",5),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Jb(),d.Kb(15,"ion-content"),d.ic(16,C,29,4,"ion-item",6),d.ic(17,I,7,2,"div",7),d.ic(18,j,4,1,"ion-list",6),d.Jb()),2&t&&(d.xb(10),d.mc("Total Cost - Rs.",e.totals,""),d.xb(6),d.ac("ngIf",e.delivery&&e.delivery.address&&""!=e.delivery.address),d.xb(1),d.ac("ngIf",0==e.currentCart.length),d.xb(1),d.ac("ngIf",!(0==e.currentCart.length)))},directives:[s.t,s.U,s.i,s.e,s.f,s.T,s.h,s.u,s.o,a.j,s.z,l.i,s.bb,s.B,s.C,a.i,s.s,s.I,s.n,s.p,s.q,s.A,s.S,s.db,s.d],pipes:[a.m],styles:[".thumbImg[_ngcontent-%COMP%]{border-radius:10px!important;overflow:hidden;-o-object-fit:cover;object-fit:cover}@media (min-width:1000px){.thumbImg[_ngcontent-%COMP%]{width:50%;margin-left:25%}}@media (max-width:1000px){.thumbImg[_ngcontent-%COMP%]{min-height:60%;margin-top:30%}}@media (min-width:1000px){.hideOnPc[_ngcontent-%COMP%]{display:none}}@media (max-width:1000px){.hideOnmobile[_ngcontent-%COMP%]{display:none}}.cirIcon[_ngcontent-%COMP%]{cursor:pointer;font-size:30px}.descTxt[_ngcontent-%COMP%]{margin-top:0;padding-top:2%;color:#5b5b5b}.titleTxt[_ngcontent-%COMP%]{text-transform:lowercase}.centerQuantBtn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;line-height:1.4}.fabBg[_ngcontent-%COMP%]{background:#3e4b63}.oneItem[_ngcontent-%COMP%]{margin:10px 0;border-bottom:2px dashed #c1c1c1}.pieceContainer[_ngcontent-%COMP%]{border-left:6px solid red;background-image:linear-gradient(90deg,#ededed 0,#fff);border-radius:10px 0 0 10px;margin-top:2px}.pricing[_ngcontent-%COMP%]{margin-top:0;padding-top:2%;color:#884242}.noCart[_ngcontent-%COMP%]{height:100%;padding-top:15%;font-weight:600;font-size:20px;text-align:center}.noCart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:50%;padding-top:10%}@media (min-width:1000px){.noCart[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-top:10px;height:100%}}.totals[_ngcontent-%COMP%]{font-weight:600;font-size:20px}.totals[_ngcontent-%COMP%]   .totalsTxt[_ngcontent-%COMP%]{padding-top:3%;font-size:large;width:50%;display:inline-block;vertical-align:middle}.totals[_ngcontent-%COMP%]   .totalsBtn[_ngcontent-%COMP%]{width:50%;display:inline-block;text-align:right}.summary[_ngcontent-%COMP%]{width:100%;font-size:1rem;color:#666;line-height:1.6;margin-top:3%;text-align:center}.summary[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .summary[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #000}"]}),A)}],N=((L=function t(){n(this,t)}).\u0275mod=d.Fb({type:L}),L.\u0275inj=d.Eb({factory:function(t){return new(t||L)},imports:[[l.j.forChild(B)],l.j]}),L),X=((D=function t(){n(this,t)}).\u0275mod=d.Fb({type:D}),D.\u0275inj=d.Eb({factory:function(t){return new(t||D)},imports:[[a.b,c.a,s.V,N]]}),D)}}])}();