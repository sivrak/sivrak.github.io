(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{kY2p:function(t,n,i){"use strict";i.r(n),i.d(n,"ManagerPageModule",(function(){return O}));var e=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),r=i("fXoL"),a=i("mrSG"),b=i("JZFu");function l(t,n){1&t&&r.Ib(0,"ion-spinner")}function p(t,n){if(1&t&&(r.Kb(0,"span",9),r.kc(1),r.Jb()),2&t){const t=r.Ub().$implicit;r.xb(1),r.nc("",t.type," X ",t.selected,"")}}function f(t,n){if(1&t&&(r.Kb(0,"span",11),r.kc(1),r.Jb()),2&t){const t=r.Ub().index;r.xb(1),r.mc("Text ",t,": ")}}function g(t,n){1&t&&(r.Kb(0,"span"),r.kc(1,","),r.Jb())}function d(t,n){1&t&&(r.Kb(0,"span"),r.Ib(1,"br"),r.Jb())}function h(t,n){if(1&t&&(r.Kb(0,"span"),r.ic(1,f,2,1,"span",10),r.kc(2),r.ic(3,g,2,0,"span",0),r.ic(4,d,2,0,"span",0),r.Jb()),2&t){const t=n.$implicit,i=n.index,e=r.Ub().$implicit;r.xb(1),r.ac("ngIf",t),r.xb(1),r.mc("",t," "),r.xb(1),r.ac("ngIf",t&&i+1!=e.reqtxt.length),r.xb(1),r.ac("ngIf",t&&i+1==e.reqtxt.length)}}function u(t,n){if(1&t&&(r.Kb(0,"span"),r.Ib(1,"img",12),r.Jb()),2&t){const t=n.$implicit;r.xb(1),r.ac("src",t,r.gc)}}function m(t,n){if(1&t&&(r.Kb(0,"span"),r.ic(1,p,2,2,"span",8),r.Kb(2,"div"),r.ic(3,h,5,4,"span",2),r.ic(4,u,2,1,"span",2),r.Jb(),r.Jb()),2&t){const t=n.$implicit;r.xb(1),r.ac("ngIf",t.selected&&t.selected>0),r.xb(2),r.ac("ngForOf",t.reqtxt),r.xb(1),r.ac("ngForOf",t.reqImg)}}function x(t,n){if(1&t&&(r.Kb(0,"span"),r.Ib(1,"hr"),r.Kb(2,"div",4),r.Kb(3,"ion-avatar",5),r.Ib(4,"img",6),r.Jb(),r.Kb(5,"ion-label",7),r.kc(6),r.ic(7,m,5,3,"span",2),r.Jb(),r.Jb(),r.Jb()),2&t){const t=n.$implicit;r.xb(4),r.ac("src",t.src,r.gc),r.xb(2),r.mc("",t.name," "),r.xb(1),r.ac("ngForOf",t.variants)}}function J(t,n){if(1&t&&(r.Kb(0,"div"),r.Kb(1,"ion-card"),r.Kb(2,"div",3),r.kc(3," Order placed "),r.Jb(),r.Kb(4,"ion-card-header"),r.Kb(5,"ion-card-subtitle"),r.kc(6),r.Vb(7,"date"),r.Jb(),r.Jb(),r.Kb(8,"ion-card-content"),r.Kb(9,"div"),r.ic(10,x,8,3,"span",2),r.Jb(),r.Jb(),r.Jb(),r.Ib(11,"hr"),r.Jb()),2&t){const t=n.$implicit;r.xb(6),r.oc("",t.delivery.name," - Pincode ",t.delivery.pincode," - Date (",r.Wb(7,4,t.date),")"),r.xb(4),r.ac("ngForOf",t.items)}}function y(t,n){if(1&t&&(r.Kb(0,"div"),r.ic(1,J,12,6,"div",2),r.Jb()),2&t){const t=r.Ub();r.xb(1),r.ac("ngForOf",t.historyList)}}function K(t,n){1&t&&(r.Kb(0,"p",13),r.kc(1," No previous orders found.. "),r.Jb())}let w=(()=>{class t{constructor(t){this.alertController=t,this.historyList=[],this.status=!1,this.showSpin=!0}ngOnInit(){let t=localStorage.getItem("zphone");console.log(t),t?this.initDatas(t):this.alertController.create({header:"Login To Continue",message:"User must be logged in",buttons:["OK"]}).then(t=>{t.present()})}initDatas(t){return Object(a.a)(this,void 0,void 0,(function*(){this.historyList=[];let t=b.a.firestore().collection("orders");yield t.get().then(t=>{this.showSpin=!1,t.empty?(this.status=!0,this.historyList=[]):(t.forEach(t=>{this.historyList.push(t.data())}),this.historyList.sort((t,n)=>{let i=new Date(t.date),e=new Date(n.date);return i<e?1:i>e?-1:0}))}).catch((function(t){console.log("Error getting documents: ",t)}))}))}}return t.\u0275fac=function(n){return new(n||t)(r.Hb(s.b))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-all-orders"]],decls:3,vars:3,consts:[[4,"ngIf"],["style","padding-left: 15px;",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"statuz"],[1,"chipz"],[1,"avatarz"],[3,"src"],["text-wrap","",1,"labelz",2,"font-weight","600"],["style","font-weight: 300;",4,"ngIf"],[2,"font-weight","300"],["style","font-weight: 600;",4,"ngIf"],[2,"font-weight","600"],[2,"height","25px","width","auto","border-radius","8px",3,"src"],[2,"padding-left","15px"]],template:function(t,n){1&t&&(r.ic(0,l,1,0,"ion-spinner",0),r.ic(1,y,2,1,"div",0),r.ic(2,K,2,0,"p",1)),2&t&&(r.ac("ngIf",n.showSpin),r.xb(1),r.ac("ngIf",n.historyList&&n.historyList.length>0),r.xb(1),r.ac("ngIf",n.status&&n.historyList&&0==n.historyList.length))},directives:[e.k,s.O,e.j,s.j,s.l,s.m,s.k,s.d,s.A],pipes:[e.d],styles:[".avatarz[_ngcontent-%COMP%]{width:19%;height:auto}.avatarz[_ngcontent-%COMP%], .labelz[_ngcontent-%COMP%]{display:inline-block}.labelz[_ngcontent-%COMP%]{width:75%;margin-left:5%}.chipz[_ngcontent-%COMP%]{margin-bottom:10px}.statuz[_ngcontent-%COMP%]{text-align:right;margin-right:20px;color:#bd7304;font-weight:600}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;stroke:#444;fill:#222;margin-left:47%;margin-top:3%;margin-bottom:3%}"]}),t})();const v=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-manager"]],decls:8,vars:0,consts:[["slot","start"],["defaultHref","home"]],template:function(t,n){1&t&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Ib(3,"ion-back-button",1),r.Jb(),r.Kb(4,"ion-title"),r.kc(5,"Manager"),r.Jb(),r.Jb(),r.Jb(),r.Kb(6,"ion-content"),r.Ib(7,"app-all-orders"),r.Jb())},directives:[s.t,s.V,s.i,s.e,s.f,s.U,s.o,w],styles:[""]}),t})()}];let I=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(n){return new(n||t)},imports:[[c.j.forChild(v)],c.j]}),t})(),O=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(n){return new(n||t)},imports:[[e.b,o.b,s.W,I]]}),t})()}}]);