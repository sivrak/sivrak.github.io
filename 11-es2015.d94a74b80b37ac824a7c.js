(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{B92z:function(t,e,i){"use strict";i.r(e),i.d(e,"UserPageModule",(function(){return y}));var n=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),c=i("fXoL"),b=i("al7H"),a=i("mrSG"),l=i("JZFu");function h(t,e){if(1&t&&(c.Kb(0,"span"),c.Kb(1,"ion-chip"),c.Kb(2,"ion-avatar"),c.Ib(3,"img",2),c.Jb(),c.Kb(4,"ion-label",3),c.jc(5),c.Jb(),c.Jb(),c.Jb()),2&t){const t=c.Ub().$implicit,e=c.Ub().$implicit;c.xb(3),c.Zb("src",e.src,c.fc),c.xb(2),c.mc("",t.type," X ",t.selected," ")}}function u(t,e){if(1&t&&(c.Kb(0,"span"),c.hc(1,h,6,3,"span",0),c.Jb()),2&t){const t=e.$implicit;c.xb(1),c.Zb("ngIf",t.selected&&t.selected>0)}}function p(t,e){if(1&t&&(c.Kb(0,"span"),c.hc(1,u,2,1,"span",1),c.Jb()),2&t){const t=e.$implicit;c.xb(1),c.Zb("ngForOf",t.variants)}}function d(t,e){if(1&t&&(c.Kb(0,"div"),c.jc(1),c.Kb(2,"div"),c.hc(3,p,2,1,"span",1),c.Jb(),c.Ib(4,"hr"),c.Jb()),2&t){const t=e.$implicit;c.xb(1),c.mc(" ",t.delivery.name," - (",t.date,") "),c.xb(2),c.Zb("ngForOf",t.items)}}function f(t,e){if(1&t&&(c.Kb(0,"div"),c.hc(1,d,5,3,"div",1),c.Jb()),2&t){const t=c.Ub();c.xb(1),c.Zb("ngForOf",t.historyList)}}function g(t,e){1&t&&(c.Kb(0,"p"),c.jc(1," No previous orders found..\n"),c.Jb())}let m=(()=>{class t{constructor(t){this.alertController=t,this.historyList=[],this.status=!1}ngOnInit(){let t=localStorage.getItem("zphone");console.log(t),t?this.initDatas(t):this.alertController.create({header:"Login To Continue",message:"User must be logged in",buttons:["OK"]}).then(t=>{t.present()})}initDatas(t){return Object(a.a)(this,void 0,void 0,(function*(){this.historyList=[];let e=l.a.firestore().collection("orders");yield e.where("userNum","==",t).get().then(t=>{t.empty?(this.status=!0,this.historyList=[]):t.forEach(t=>{console.log("doc",t),console.log("doc.data()",t.data()),this.historyList.push(t.data())})}).catch((function(t){console.log("Error getting documents: ",t)}))}))}}return t.\u0275fac=function(e){return new(e||t)(c.Hb(s.b))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-history"]],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src"],[2,"font-weight","600"]],template:function(t,e){1&t&&(c.hc(0,f,2,1,"div",0),c.hc(1,g,2,0,"p",0)),2&t&&(c.Zb("ngIf",e.historyList&&e.historyList.length>0),c.xb(1),c.Zb("ngIf",e.status&&e.historyList&&0==e.historyList.length))},directives:[n.i,n.h,s.j,s.d,s.x],styles:[""]}),t})();const J=[{path:"",component:(()=>{class t{constructor(t){this.authCheckService=t,this.currentUser=""}ngOnInit(){this.currentUser=localStorage.getItem("zphone")}logout(){this.authCheckService.logout()}ionViewWillEnter(){this.currentUser=localStorage.getItem("zphone"),""==this.currentUser&&this.authCheckService.logout()}}return t.\u0275fac=function(e){return new(e||t)(c.Hb(b.a))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-user"]],decls:25,vars:1,consts:[["slot","start"],["color","danger",2,"width","100%","height","100%",3,"click"],[2,"width","100%","margin-top","10px"]],template:function(t,e){1&t&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Ib(3,"ion-back-button"),c.Jb(),c.Kb(4,"ion-title"),c.jc(5,"User Profile"),c.Jb(),c.Jb(),c.Jb(),c.Kb(6,"ion-content"),c.Kb(7,"ion-list"),c.Kb(8,"ion-list-header"),c.Kb(9,"h3"),c.jc(10,"Current User"),c.Jb(),c.Jb(),c.Kb(11,"ion-item"),c.Kb(12,"div"),c.Kb(13,"h4"),c.jc(14),c.Jb(),c.Jb(),c.Jb(),c.Ib(15,"ion-item"),c.Kb(16,"ion-item"),c.Kb(17,"ion-button",1),c.Sb("click",(function(){return e.logout()})),c.jc(18,"Logout"),c.Jb(),c.Jb(),c.Ib(19,"ion-item"),c.Kb(20,"ion-list-header"),c.Kb(21,"h3"),c.jc(22,"Order History"),c.Jb(),c.Jb(),c.Kb(23,"ion-item"),c.Ib(24,"app-history",2),c.Jb(),c.Jb(),c.Jb()),2&t&&(c.xb(14),c.lc(" ",e.currentUser," "))},directives:[s.q,s.O,s.i,s.e,s.f,s.N,s.l,s.y,s.z,s.w,s.h,m],styles:[""]}),t})()}];let K=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(J)],r.j]}),t})(),y=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(e){return new(e||t)},imports:[[n.b,o.a,s.P,K]]}),t})()}}]);