!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{B92z:function(n,i,o){"use strict";o.r(i),o.d(i,"UserPageModule",(function(){return S}));var r=o("ofXK"),c=o("3Pt+"),b=o("TEn/"),s=o("tyNb"),a=o("fXoL"),u=o("al7H"),p=o("mrSG"),l=o("JZFu");function h(t,n){1&t&&a.Jb(0,"ion-spinner")}function f(t,n){if(1&t&&(a.Lb(0,"span",8),a.pc(1),a.Kb()),2&t){var e=a.Vb().$implicit;a.xb(1),a.sc("",e.type," X ",e.selected,"")}}function g(t,n){if(1&t&&(a.Lb(0,"span",10),a.pc(1),a.Kb()),2&t){var e=a.Vb().index;a.xb(1),a.rc("Text ",e,": ")}}function d(t,n){1&t&&(a.Lb(0,"span"),a.pc(1,","),a.Kb())}function m(t,n){1&t&&(a.Lb(0,"span"),a.Jb(1,"br"),a.Kb())}function L(t,n){if(1&t&&(a.Lb(0,"span"),a.nc(1,g,2,1,"span",9),a.pc(2),a.nc(3,d,2,0,"span",0),a.nc(4,m,2,0,"span",0),a.Kb()),2&t){var e=n.$implicit,i=n.index,o=a.Vb().$implicit;a.xb(1),a.bc("ngIf",e),a.xb(1),a.rc("",e," "),a.xb(1),a.bc("ngIf",e&&i+1!=o.reqtxt.length),a.xb(1),a.bc("ngIf",e&&i+1==o.reqtxt.length)}}function v(t,n){if(1&t&&(a.Lb(0,"span"),a.Jb(1,"img",11),a.Kb()),2&t){var e=n.$implicit;a.xb(1),a.bc("src",e,a.kc)}}function y(t,n){if(1&t&&(a.Lb(0,"span"),a.nc(1,f,2,2,"span",7),a.Lb(2,"div"),a.nc(3,L,5,4,"span",1),a.nc(4,v,2,1,"span",1),a.Kb(),a.Kb()),2&t){var e=n.$implicit;a.xb(1),a.bc("ngIf",e.selected&&e.selected>0),a.xb(2),a.bc("ngForOf",e.reqtxt),a.xb(1),a.bc("ngForOf",e.reqImg)}}function K(t,n){if(1&t&&(a.Lb(0,"span"),a.Jb(1,"hr"),a.Lb(2,"div",3),a.Lb(3,"ion-avatar",4),a.Jb(4,"img",5),a.Kb(),a.Lb(5,"ion-label",6),a.pc(6),a.nc(7,y,5,3,"span",1),a.Kb(),a.Kb(),a.Kb()),2&t){var e=n.$implicit;a.xb(4),a.bc("src",e.src,a.kc),a.xb(2),a.rc("",e.name," "),a.xb(1),a.bc("ngForOf",e.variants)}}function x(t,n){if(1&t&&(a.Lb(0,"div"),a.Lb(1,"ion-card"),a.Lb(2,"div",2),a.pc(3," Order placed "),a.Kb(),a.Lb(4,"ion-card-header"),a.Lb(5,"ion-card-subtitle"),a.pc(6),a.Wb(7,"date"),a.Kb(),a.Kb(),a.Lb(8,"ion-card-content"),a.Lb(9,"div"),a.nc(10,K,8,3,"span",1),a.Kb(),a.Kb(),a.Kb(),a.Jb(11,"hr"),a.Kb()),2&t){var e=n.$implicit;a.xb(6),a.tc("",e.delivery.name," - Pincode ",e.delivery.pincode," - Date (",a.Xb(7,4,e.date),")"),a.xb(4),a.bc("ngForOf",e.items)}}function w(t,n){if(1&t&&(a.Lb(0,"div"),a.nc(1,x,12,6,"div",1),a.Kb()),2&t){var e=a.Vb();a.xb(1),a.bc("ngForOf",e.historyList)}}function k(t,n){1&t&&(a.Lb(0,"p"),a.pc(1," No previous orders found..\n"),a.Kb())}var O,C,I,z,J=((O=function(){function n(e){t(this,n),this.alertController=e,this.historyList=[],this.status=!1,this.showSpin=!0}return e(n,[{key:"ngOnInit",value:function(){var t=localStorage.getItem("zphone");console.log(t),t?this.initDatas(t):this.alertController.create({header:"Login To Continue",message:"User must be logged in",buttons:["OK"]}).then((function(t){t.present()}))}},{key:"initDatas",value:function(t){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.historyList=[],e=l.a.firestore().collection("chocoorders"),n.next=4,e.where("userNum","==",t).get().then((function(t){i.showSpin=!1,t.empty?(i.status=!0,i.historyList=[]):(t.forEach((function(t){i.historyList.push(t.data())})),i.historyList.sort((function(t,n){var e=new Date(t.date),i=new Date(n.date);return e<i?1:e>i?-1:0})))})).catch((function(t){console.log("Error getting documents: ",t)}));case 4:case"end":return n.stop()}}),n,this)})))}}]),n}()).\u0275fac=function(t){return new(t||O)(a.Ib(b.b))},O.\u0275cmp=a.Cb({type:O,selectors:[["app-history"]],decls:3,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"statuz"],[1,"chipz"],[1,"avatarz"],[3,"src"],["text-wrap","",1,"labelz",2,"font-weight","600"],["style","font-weight: 300;",4,"ngIf"],[2,"font-weight","300"],["style","font-weight: 600;",4,"ngIf"],[2,"font-weight","600"],[2,"height","25px","width","auto","border-radius","8px",3,"src"]],template:function(t,n){1&t&&(a.nc(0,h,1,0,"ion-spinner",0),a.nc(1,w,2,1,"div",0),a.nc(2,k,2,0,"p",0)),2&t&&(a.bc("ngIf",n.showSpin),a.xb(1),a.bc("ngIf",n.historyList&&n.historyList.length>0),a.xb(1),a.bc("ngIf",n.status&&n.historyList&&0==n.historyList.length))},directives:[r.k,b.N,r.j,b.j,b.l,b.m,b.k,b.d,b.z],pipes:[r.d],styles:[".avatarz[_ngcontent-%COMP%]{width:19%;height:auto}.avatarz[_ngcontent-%COMP%], .labelz[_ngcontent-%COMP%]{display:inline-block}.labelz[_ngcontent-%COMP%]{width:75%;margin-left:5%}.chipz[_ngcontent-%COMP%]{margin-bottom:10px}.statuz[_ngcontent-%COMP%]{text-align:right;margin-right:20px;color:#bd7304;font-weight:600}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;stroke:#444;fill:#222;margin-left:47%;margin-top:3%;margin-bottom:3%}"]}),O),P=[{path:"",component:(C=function(){function n(e){t(this,n),this.authCheckService=e,this.currentUser=""}return e(n,[{key:"ngOnInit",value:function(){this.currentUser=localStorage.getItem("zphone")}},{key:"logout",value:function(){this.authCheckService.logout()}},{key:"ionViewWillEnter",value:function(){this.currentUser=localStorage.getItem("zphone"),""==this.currentUser&&this.authCheckService.logout()}}]),n}(),C.\u0275fac=function(t){return new(t||C)(a.Ib(u.a))},C.\u0275cmp=a.Cb({type:C,selectors:[["app-user"]],decls:25,vars:1,consts:[["slot","start"],["color","danger",2,"width","100%","height","100%",3,"click"],[2,"width","100%","margin-top","10px"]],template:function(t,n){1&t&&(a.Lb(0,"ion-header"),a.Lb(1,"ion-toolbar"),a.Lb(2,"ion-buttons",0),a.Jb(3,"ion-back-button"),a.Kb(),a.Lb(4,"ion-title"),a.pc(5,"User Profile"),a.Kb(),a.Kb(),a.Kb(),a.Lb(6,"ion-content"),a.Lb(7,"ion-list"),a.Lb(8,"ion-list-header"),a.Lb(9,"h3"),a.pc(10,"Current User"),a.Kb(),a.Kb(),a.Lb(11,"ion-item"),a.Lb(12,"div"),a.Lb(13,"h4"),a.pc(14),a.Kb(),a.Kb(),a.Kb(),a.Jb(15,"ion-item"),a.Lb(16,"ion-item"),a.Lb(17,"ion-button",1),a.Tb("click",(function(){return n.logout()})),a.pc(18,"Logout"),a.Kb(),a.Kb(),a.Jb(19,"ion-item"),a.Lb(20,"ion-list-header"),a.Lb(21,"h3"),a.pc(22,"Order History"),a.Kb(),a.Kb(),a.Lb(23,"ion-item"),a.Jb(24,"app-history",2),a.Kb(),a.Kb(),a.Kb()),2&t&&(a.xb(14),a.rc(" ",n.currentUser," "))},directives:[b.t,b.U,b.i,b.e,b.f,b.T,b.o,b.A,b.B,b.y,b.h,J],styles:[""]}),C)}],F=((z=function n(){t(this,n)}).\u0275mod=a.Gb({type:z}),z.\u0275inj=a.Fb({factory:function(t){return new(t||z)},imports:[[s.j.forChild(P)],s.j]}),z),S=((I=function n(){t(this,n)}).\u0275mod=a.Gb({type:I}),I.\u0275inj=a.Fb({factory:function(t){return new(t||I)},imports:[[r.b,c.b,b.V,F]]}),I)}}])}();