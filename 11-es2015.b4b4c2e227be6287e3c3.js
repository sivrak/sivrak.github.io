(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{B92z:function(t,i,e){"use strict";e.r(i),e.d(i,"UserPageModule",(function(){return y}));var n=e("ofXK"),o=e("3Pt+"),s=e("TEn/"),r=e("tyNb"),c=e("fXoL"),a=e("al7H"),b=e("mrSG"),l=e("JZFu");function h(t,i){if(1&t&&(c.Kb(0,"span",8),c.kc(1),c.Jb()),2&t){const t=c.Ub().$implicit;c.xb(1),c.nc("",t.type," X ",t.selected,"")}}function u(t,i){if(1&t&&(c.Kb(0,"span"),c.ic(1,h,2,2,"span",7),c.Jb()),2&t){const t=i.$implicit;c.xb(1),c.ac("ngIf",t.selected&&t.selected>0)}}function d(t,i){if(1&t&&(c.Kb(0,"span"),c.Kb(1,"div",3),c.Kb(2,"ion-avatar",4),c.Ib(3,"img",5),c.Jb(),c.Kb(4,"ion-label",6),c.kc(5),c.ic(6,u,2,1,"span",1),c.Jb(),c.Jb(),c.Jb()),2&t){const t=i.$implicit;c.xb(3),c.ac("src",t.src,c.gc),c.xb(2),c.mc("",t.name," "),c.xb(1),c.ac("ngForOf",t.variants)}}function g(t,i){if(1&t&&(c.Kb(0,"div"),c.Kb(1,"ion-card"),c.Kb(2,"div",2),c.kc(3),c.Jb(),c.Kb(4,"ion-card-header"),c.Kb(5,"ion-card-subtitle"),c.kc(6),c.Vb(7,"date"),c.Jb(),c.Jb(),c.Kb(8,"ion-card-content"),c.Kb(9,"div"),c.ic(10,d,7,3,"span",1),c.Jb(),c.Jb(),c.Jb(),c.Ib(11,"hr"),c.Jb()),2&t){const t=i.$implicit;c.xb(3),c.mc(" Status ",t.status," "),c.xb(3),c.oc("",t.delivery.name," - Pincode ",t.delivery.pincode," - Date (",c.Wb(7,5,t.date),")"),c.xb(4),c.ac("ngForOf",t.items)}}function p(t,i){if(1&t&&(c.Kb(0,"div"),c.ic(1,g,12,7,"div",1),c.Jb()),2&t){const t=c.Ub();c.xb(1),c.ac("ngForOf",t.historyList)}}function f(t,i){1&t&&(c.Kb(0,"p"),c.kc(1," No previous orders found..\n"),c.Jb())}let m=(()=>{class t{constructor(t){this.alertController=t,this.historyList=[],this.status=!1}ngOnInit(){let t=localStorage.getItem("zphone");console.log(t),t?this.initDatas(t):this.alertController.create({header:"Login To Continue",message:"User must be logged in",buttons:["OK"]}).then(t=>{t.present()})}initDatas(t){return Object(b.a)(this,void 0,void 0,(function*(){this.historyList=[];let i=l.a.firestore().collection("orders");yield i.where("userNum","==",t).get().then(t=>{t.empty?(this.status=!0,this.historyList=[]):(t.forEach(t=>{this.historyList.push(t.data())}),this.historyList.sort((t,i)=>t.date>i.date?1:t.date<i.date?-1:0),console.log(this.historyList))}).catch((function(t){console.log("Error getting documents: ",t)}))}))}}return t.\u0275fac=function(i){return new(i||t)(c.Hb(s.b))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-history"]],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"statuz"],[1,"chipz"],[1,"avatarz"],[3,"src"],["text-wrap","",1,"labelz",2,"font-weight","600"],["style","font-weight: 300;",4,"ngIf"],[2,"font-weight","300"]],template:function(t,i){1&t&&(c.ic(0,p,2,1,"div",0),c.ic(1,f,2,0,"p",0)),2&t&&(c.ac("ngIf",i.historyList&&i.historyList.length>0),c.xb(1),c.ac("ngIf",i.status&&i.historyList&&0==i.historyList.length))},directives:[n.j,n.i,s.j,s.l,s.m,s.k,s.d,s.A],pipes:[n.d],styles:[".avatarz[_ngcontent-%COMP%]{width:19%;height:auto}.avatarz[_ngcontent-%COMP%], .labelz[_ngcontent-%COMP%]{display:inline-block}.labelz[_ngcontent-%COMP%]{width:75%;margin-left:5%}.chipz[_ngcontent-%COMP%]{margin-bottom:10px}.statuz[_ngcontent-%COMP%]{text-align:right;margin-right:20px;color:#bd7304;font-weight:600}"]}),t})();const J=[{path:"",component:(()=>{class t{constructor(t){this.authCheckService=t,this.currentUser=""}ngOnInit(){this.currentUser=localStorage.getItem("zphone")}logout(){this.authCheckService.logout()}ionViewWillEnter(){this.currentUser=localStorage.getItem("zphone"),""==this.currentUser&&this.authCheckService.logout()}}return t.\u0275fac=function(i){return new(i||t)(c.Hb(a.a))},t.\u0275cmp=c.Bb({type:t,selectors:[["app-user"]],decls:25,vars:1,consts:[["slot","start"],["color","danger",2,"width","100%","height","100%",3,"click"],[2,"width","100%","margin-top","10px"]],template:function(t,i){1&t&&(c.Kb(0,"ion-header"),c.Kb(1,"ion-toolbar"),c.Kb(2,"ion-buttons",0),c.Ib(3,"ion-back-button"),c.Jb(),c.Kb(4,"ion-title"),c.kc(5,"User Profile"),c.Jb(),c.Jb(),c.Jb(),c.Kb(6,"ion-content"),c.Kb(7,"ion-list"),c.Kb(8,"ion-list-header"),c.Kb(9,"h3"),c.kc(10,"Current User"),c.Jb(),c.Jb(),c.Kb(11,"ion-item"),c.Kb(12,"div"),c.Kb(13,"h4"),c.kc(14),c.Jb(),c.Jb(),c.Jb(),c.Ib(15,"ion-item"),c.Kb(16,"ion-item"),c.Kb(17,"ion-button",1),c.Sb("click",(function(){return i.logout()})),c.kc(18,"Logout"),c.Jb(),c.Jb(),c.Ib(19,"ion-item"),c.Kb(20,"ion-list-header"),c.Kb(21,"h3"),c.kc(22,"Order History"),c.Jb(),c.Jb(),c.Kb(23,"ion-item"),c.Ib(24,"app-history",2),c.Jb(),c.Jb(),c.Jb()),2&t&&(c.xb(14),c.mc(" ",i.currentUser," "))},directives:[s.t,s.U,s.i,s.e,s.f,s.T,s.o,s.B,s.C,s.z,s.h,m],styles:[""]}),t})()}];let K=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(i){return new(i||t)},imports:[[r.j.forChild(J)],r.j]}),t})(),y=(()=>{class t{}return t.\u0275mod=c.Fb({type:t}),t.\u0275inj=c.Eb({factory:function(i){return new(i||t)},imports:[[n.b,o.a,s.V,K]]}),t})()}}]);